{"ast":null,"code":"\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\").default;\n\nexports.__esModule = true;\nexports.default = void 0;\n\nvar _sort = _interopRequireDefault(require(\"./sort\"));\n\nvar _isEmpty = _interopRequireDefault(require(\"./isEmpty\"));\n\nvar sortPoints = function sortPoints(a, b) {\n  return a[1] - b[1] || a[3] - b[3];\n};\n\nvar generatePoints = function generatePoints(runs) {\n  var result = runs.reduce(function (acc, run, i) {\n    return acc.concat([['start', run.start, run.attributes, i], ['end', run.end, run.attributes, i]]);\n  }, []);\n  return result.sort(sortPoints);\n};\n\nvar mergeRuns = function mergeRuns(runs) {\n  return runs.reduce(function (acc, run) {\n    var attributes = Object.assign({}, acc.attributes, run.attributes);\n    return Object.assign({}, run, {\n      attributes: attributes\n    });\n  }, {});\n};\n\nvar groupEmptyRuns = function groupEmptyRuns(runs) {\n  var groups = runs.reduce(function (acc, run) {\n    if (!acc[run.start]) acc[run.start] = [];\n    acc[run.start].push(run);\n    return acc;\n  }, {});\n  return Object.values(groups);\n};\n\nvar flattenEmptyRuns = function flattenEmptyRuns(runs) {\n  return groupEmptyRuns(runs).map(mergeRuns);\n};\n\nvar flattenRegularRuns = function flattenRegularRuns(runs) {\n  var res = [];\n  var points = generatePoints(runs);\n  var start = -1;\n  var attrs = {};\n  var stack = [];\n\n  for (var i = 0; i < points.length; i += 1) {\n    var _points$i = points[i],\n        type = _points$i[0],\n        offset = _points$i[1],\n        attributes = _points$i[2];\n\n    if (start !== -1 && start < offset) {\n      res.push({\n        start: start,\n        end: offset,\n        attributes: attrs\n      });\n    }\n\n    if (type === 'start') {\n      stack.push(attributes);\n      attrs = Object.assign({}, attrs, attributes);\n    } else {\n      attrs = {};\n\n      for (var j = 0; j < stack.length; j += 1) {\n        if (stack[j] === attributes) {\n          // eslint-disable-next-line no-plusplus\n          stack.splice(j--, 1);\n        } else {\n          attrs = Object.assign({}, attrs, stack[j]);\n        }\n      }\n    }\n\n    start = offset;\n  }\n\n  return res;\n};\n/**\n * Flatten many runs\n *\n * @param  {Array}  runs\n * @return {Array} flatten runs\n */\n\n\nvar flatten = function flatten(runs) {\n  if (runs === void 0) {\n    runs = [];\n  }\n\n  var emptyRuns = flattenEmptyRuns(runs.filter(function (run) {\n    return (0, _isEmpty.default)(run);\n  }));\n  var regularRuns = flattenRegularRuns(runs.filter(function (run) {\n    return !(0, _isEmpty.default)(run);\n  }));\n  return (0, _sort.default)(emptyRuns.concat(regularRuns));\n};\n\nvar _default = flatten;\nexports.default = _default;","map":{"version":3,"names":["_interopRequireDefault","require","default","exports","__esModule","_sort","_isEmpty","sortPoints","a","b","generatePoints","runs","result","reduce","acc","run","i","concat","start","attributes","end","sort","mergeRuns","Object","assign","groupEmptyRuns","groups","push","values","flattenEmptyRuns","map","flattenRegularRuns","res","points","attrs","stack","length","_points$i","type","offset","j","splice","flatten","emptyRuns","filter","regularRuns","_default"],"sources":["C:/Users/Pipe17/Desktop/practicaReact/loginfirebase/node_modules/@react-pdf/textkit/lib/run/flatten.js"],"sourcesContent":["\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\").default;\n\nexports.__esModule = true;\nexports.default = void 0;\n\nvar _sort = _interopRequireDefault(require(\"./sort\"));\n\nvar _isEmpty = _interopRequireDefault(require(\"./isEmpty\"));\n\nvar sortPoints = function sortPoints(a, b) {\n  return a[1] - b[1] || a[3] - b[3];\n};\n\nvar generatePoints = function generatePoints(runs) {\n  var result = runs.reduce(function (acc, run, i) {\n    return acc.concat([['start', run.start, run.attributes, i], ['end', run.end, run.attributes, i]]);\n  }, []);\n  return result.sort(sortPoints);\n};\n\nvar mergeRuns = function mergeRuns(runs) {\n  return runs.reduce(function (acc, run) {\n    var attributes = Object.assign({}, acc.attributes, run.attributes);\n    return Object.assign({}, run, {\n      attributes: attributes\n    });\n  }, {});\n};\n\nvar groupEmptyRuns = function groupEmptyRuns(runs) {\n  var groups = runs.reduce(function (acc, run) {\n    if (!acc[run.start]) acc[run.start] = [];\n    acc[run.start].push(run);\n    return acc;\n  }, {});\n  return Object.values(groups);\n};\n\nvar flattenEmptyRuns = function flattenEmptyRuns(runs) {\n  return groupEmptyRuns(runs).map(mergeRuns);\n};\n\nvar flattenRegularRuns = function flattenRegularRuns(runs) {\n  var res = [];\n  var points = generatePoints(runs);\n  var start = -1;\n  var attrs = {};\n  var stack = [];\n\n  for (var i = 0; i < points.length; i += 1) {\n    var _points$i = points[i],\n        type = _points$i[0],\n        offset = _points$i[1],\n        attributes = _points$i[2];\n\n    if (start !== -1 && start < offset) {\n      res.push({\n        start: start,\n        end: offset,\n        attributes: attrs\n      });\n    }\n\n    if (type === 'start') {\n      stack.push(attributes);\n      attrs = Object.assign({}, attrs, attributes);\n    } else {\n      attrs = {};\n\n      for (var j = 0; j < stack.length; j += 1) {\n        if (stack[j] === attributes) {\n          // eslint-disable-next-line no-plusplus\n          stack.splice(j--, 1);\n        } else {\n          attrs = Object.assign({}, attrs, stack[j]);\n        }\n      }\n    }\n\n    start = offset;\n  }\n\n  return res;\n};\n/**\n * Flatten many runs\n *\n * @param  {Array}  runs\n * @return {Array} flatten runs\n */\n\n\nvar flatten = function flatten(runs) {\n  if (runs === void 0) {\n    runs = [];\n  }\n\n  var emptyRuns = flattenEmptyRuns(runs.filter(function (run) {\n    return (0, _isEmpty.default)(run);\n  }));\n  var regularRuns = flattenRegularRuns(runs.filter(function (run) {\n    return !(0, _isEmpty.default)(run);\n  }));\n  return (0, _sort.default)(emptyRuns.concat(regularRuns));\n};\n\nvar _default = flatten;\nexports.default = _default;"],"mappings":"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"},"metadata":{},"sourceType":"script"}