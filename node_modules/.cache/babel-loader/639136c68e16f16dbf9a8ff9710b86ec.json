{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/Pipe17/Desktop/practicaReact/loginfirebase/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _objectSpread from\"C:/Users/Pipe17/Desktop/practicaReact/loginfirebase/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _asyncToGenerator from\"C:/Users/Pipe17/Desktop/practicaReact/loginfirebase/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/Pipe17/Desktop/practicaReact/loginfirebase/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React from\"react\";import{Link,useNavigate}from\"react-router-dom\";import{useEffect,useState}from\"react\";import{collection,deleteDoc,getDocs,doc,addDoc,setDoc}from\"firebase/firestore\";import db from\"../firebase\";import{getAuth}from\"firebase/auth\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var PanelControl=function PanelControl(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),cantidadClientesRegistrados=_useState2[0],setCantidadClientesRegistrados=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),cantidadProductosRegistrados=_useState4[0],setcantidadProductosRegistrados=_useState4[1];var _useState5=useState([]),_useState6=_slicedToArray(_useState5,2),cantidadFacturasRegistrados=_useState6[0],setcantidadFacturasRegistrados=_useState6[1];//PROTEGER LA RUTA VERIFICA SI HAY USUARIOS Y SINO REDIRIGE AL LOGIN\nvar navigate=useNavigate();var _useState7=useState(null),_useState8=_slicedToArray(_useState7,2),user=_useState8[0],setUser=_useState8[1];useEffect(function(){var auth=getAuth();var user=auth.currentUser;if(user){console.log(\"existe usuario\");setUser(user);}else{console.log(\"no existe el usuario\");navigate(\"../\",{replace:true});}},[]);//obtener datos facturas\nuseEffect(function(){var obtenerDatosFacturas=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var data,arrayFacturas;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return getDocs(collection(db,\"facturas\"));case 2:data=_context.sent;arrayFacturas=data.docs.map(function(facturas){return _objectSpread({id:facturas.id},facturas.data());});setcantidadFacturasRegistrados(arrayFacturas.length);case 5:case\"end\":return _context.stop();}}},_callee);}));return function obtenerDatosFacturas(){return _ref.apply(this,arguments);};}();obtenerDatosFacturas();},[]);//OBTENER DATOS CLIENTES\nuseEffect(function(){var obtenerDatosCliente=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(){var data,arrayData;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return getDocs(collection(db,\"clientes\"));case 2:data=_context2.sent;arrayData=data.docs.map(function(item){return _objectSpread({id:item.id},item.data());});setCantidadClientesRegistrados(arrayData.length);case 5:case\"end\":return _context2.stop();}}},_callee2);}));return function obtenerDatosCliente(){return _ref2.apply(this,arguments);};}();obtenerDatosCliente();},[]);//OBTENER DATOS CLIENTES\nuseEffect(function(){var obtenerDatosProductos=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee3(){var data,arrayData;return _regeneratorRuntime().wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.next=2;return getDocs(collection(db,\"productos\"));case 2:data=_context3.sent;arrayData=data.docs.map(function(item){return _objectSpread({id:item.id},item.data());});setcantidadProductosRegistrados(arrayData.length);case 5:case\"end\":return _context3.stop();}}},_callee3);}));return function obtenerDatosProductos(){return _ref3.apply(this,arguments);};}();obtenerDatosProductos();},[]);return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"div\",{className:\"w-full p-2 text-center bg-blue-600 mt-5 \",children:\"Hola Mundo\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\" mb-4 mt-5 md:flex md:gap-8 m-5 h-50\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"md:w-1/3 p-2 text-center bg-red rounded-2xl\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"CLIENTES\"}),/*#__PURE__*/_jsx(\"div\",{className:\"text-left\",children:/*#__PURE__*/_jsx(\"p\",{className:\" font-bold\",children:\" INFORMACION CLIENTES:\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"uppercase rounded-xl border my-5 p-3 text-left\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-teal-500\",children:\" \"}),/*#__PURE__*/_jsxs(\"li\",{children:[\"Cantidad Clientes Registrados:\",\" \",/*#__PURE__*/_jsx(\"span\",{className:\"font-bold text-2xl\",children:cantidadClientesRegistrados}),\" \"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-redO text-2xl  font-semibold p-2 w-full  rounded-full hover:bg-redO focus:outline-none focus:ring shadow-lg hover:shadow-none transition-all duration-300 m-2\",children:[\" \",/*#__PURE__*/_jsx(Link,{to:\"../clientes\",children:\" CREAR CLIENTE\"}),\" \"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"md:w-1/3 p-2 text-center bg-yellow rounded-2xl \",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"PRODUCTOS\"}),/*#__PURE__*/_jsx(\"div\",{className:\"text-left\",children:/*#__PURE__*/_jsx(\"p\",{className:\" font-bold\",children:\" INFORMACION PRDUCTOS:\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"uppercase border rounded-xl my-5 p-3 text-left\",children:/*#__PURE__*/_jsxs(\"li\",{className:\"\",children:[\"Cantidad productos Registrados:\",\" \",/*#__PURE__*/_jsxs(\"span\",{className:\"font-bold text-red-600 text-2xl\",children:[cantidadProductosRegistrados,\" \"]})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-yellowfuerte text-2xl font-semibold p-2 w-full  rounded-full hover:bg-yellowfuerte focus:outline-none focus:ring shadow-lg hover:shadow-none transition-all duration-300 m-2\",children:[\" \",/*#__PURE__*/_jsx(Link,{to:\"../productos\",children:\" CREAR PRODUCTOS\"}),\" \"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"md:w-1/3 p-2  text-center bg-green rounded-2xl \",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"CONTROL DE FACTURAS\"}),/*#__PURE__*/_jsx(\"div\",{className:\"text-left\",children:/*#__PURE__*/_jsx(\"p\",{className:\" font-bold\",children:\" INFORMACION PROFORMAS:\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"uppercase border rounded-xl my-5 p-3 text-left\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-teal-500\",children:\" \"}),/*#__PURE__*/_jsxs(\"li\",{children:[\"Cantidad GENERADAS\",\" \",/*#__PURE__*/_jsx(\"span\",{className:\"font-bold text-red-600 text-2xl\",children:cantidadFacturasRegistrados}),\" \"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-greenO text-2xl  font-semibold p-2 w-full  rounded-full hover:bg-greenO focus:outline-none focus:ring shadow-lg hover:shadow-none transition-all duration-300 m-2\",children:[\" \",/*#__PURE__*/_jsx(Link,{to:\"../facturaform\",children:\" CREAR FACTURA PROFORMA\"}),\" \"]})]})]})]});};export default PanelControl;","map":{"version":3,"names":["React","Link","useNavigate","useEffect","useState","collection","deleteDoc","getDocs","doc","addDoc","setDoc","db","getAuth","PanelControl","cantidadClientesRegistrados","setCantidadClientesRegistrados","cantidadProductosRegistrados","setcantidadProductosRegistrados","cantidadFacturasRegistrados","setcantidadFacturasRegistrados","navigate","user","setUser","auth","currentUser","console","log","replace","obtenerDatosFacturas","data","arrayFacturas","docs","map","facturas","id","length","obtenerDatosCliente","arrayData","item","obtenerDatosProductos"],"sources":["C:/Users/Pipe17/Desktop/practicaReact/loginfirebase/src/components/PanelControl.jsx"],"sourcesContent":["import React from \"react\";\r\nimport { Link, useNavigate } from \"react-router-dom\";\r\nimport { useEffect, useState } from \"react\";\r\nimport {\r\n  collection,\r\n  deleteDoc,\r\n  getDocs,\r\n  doc,\r\n  addDoc,\r\n  setDoc,\r\n} from \"firebase/firestore\";\r\nimport db from \"../firebase\";\r\nimport { getAuth } from \"firebase/auth\";\r\n\r\nconst PanelControl = () => {\r\n  \r\n  const [cantidadClientesRegistrados, setCantidadClientesRegistrados] =\r\n    useState([]);\r\n  const [cantidadProductosRegistrados, setcantidadProductosRegistrados] =\r\n    useState([]);\r\n  const [cantidadFacturasRegistrados, setcantidadFacturasRegistrados] =\r\n    useState([]);\r\n  //PROTEGER LA RUTA VERIFICA SI HAY USUARIOS Y SINO REDIRIGE AL LOGIN\r\n  const navigate = useNavigate();\r\n  const [user, setUser] = useState(null);\r\n  useEffect(() => {\r\n    const auth = getAuth();\r\n    const user = auth.currentUser;\r\n    if (user) {\r\n      console.log(\"existe usuario\");\r\n      setUser(user);\r\n    } else {\r\n      console.log(\"no existe el usuario\");\r\n      navigate(\"../\", { replace: true });\r\n    }\r\n  }, []);\r\n  //obtener datos facturas\r\n  useEffect(() => {\r\n    const obtenerDatosFacturas = async () => {\r\n      const data = await getDocs(collection(db, \"facturas\"));\r\n      const arrayFacturas = data.docs.map((facturas) => ({\r\n        id: facturas.id,\r\n        ...facturas.data(),\r\n      }));\r\n      setcantidadFacturasRegistrados(arrayFacturas.length);\r\n    };\r\n\r\n    obtenerDatosFacturas();\r\n  }, []);\r\n  //OBTENER DATOS CLIENTES\r\n  useEffect(() => {\r\n    const obtenerDatosCliente = async () => {\r\n      const data = await getDocs(collection(db, \"clientes\"));\r\n\r\n      const arrayData = data.docs.map((item) => ({\r\n        id: item.id,\r\n        ...item.data(),\r\n      }));\r\n      setCantidadClientesRegistrados(arrayData.length);\r\n    };\r\n    obtenerDatosCliente();\r\n  }, []);\r\n  //OBTENER DATOS CLIENTES\r\n  useEffect(() => {\r\n    const obtenerDatosProductos = async () => {\r\n      const data = await getDocs(collection(db, \"productos\"));\r\n\r\n      const arrayData = data.docs.map((item) => ({\r\n        id: item.id,\r\n        ...item.data(),\r\n      }));\r\n      setcantidadProductosRegistrados(arrayData.length);\r\n    };\r\n    obtenerDatosProductos();\r\n  }, []);\r\n  return (\r\n    <>\r\n      <div>\r\n        <div className=\"w-full p-2 text-center bg-blue-600 mt-5 \">\r\n          Hola Mundo\r\n        </div>\r\n      </div>\r\n      <div className=\" mb-4 mt-5 md:flex md:gap-8 m-5 h-50\">\r\n        <div className=\"md:w-1/3 p-2 text-center bg-red rounded-2xl\">\r\n          <h3>CLIENTES</h3>\r\n          <div className=\"text-left\">\r\n            <p className=\" font-bold\"> INFORMACION CLIENTES:</p>\r\n          </div>\r\n          <div className=\"uppercase rounded-xl border my-5 p-3 text-left\">\r\n            <p className=\"text-teal-500\"> </p>\r\n            <li>\r\n              Cantidad Clientes Registrados:{\" \"}\r\n              <span className=\"font-bold text-2xl\">\r\n                {cantidadClientesRegistrados}\r\n              </span>{\" \"}\r\n            </li>\r\n          </div>\r\n          <div className=\"bg-redO text-2xl  font-semibold p-2 w-full  rounded-full hover:bg-redO focus:outline-none focus:ring shadow-lg hover:shadow-none transition-all duration-300 m-2\">\r\n            {\" \"}\r\n            <Link to=\"../clientes\"> CREAR CLIENTE</Link>{\" \"}\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"md:w-1/3 p-2 text-center bg-yellow rounded-2xl \">\r\n          <h3>PRODUCTOS</h3>\r\n\r\n          <div className=\"text-left\">\r\n            <p className=\" font-bold\"> INFORMACION PRDUCTOS:</p>\r\n          </div>\r\n          <div className=\"uppercase border rounded-xl my-5 p-3 text-left\">\r\n            <li className=\"\">\r\n              Cantidad productos Registrados:{\" \"}\r\n              <span className=\"font-bold text-red-600 text-2xl\">\r\n                {cantidadProductosRegistrados}{\" \"}\r\n              </span>\r\n            </li>\r\n          </div>\r\n          <div className=\"bg-yellowfuerte text-2xl font-semibold p-2 w-full  rounded-full hover:bg-yellowfuerte focus:outline-none focus:ring shadow-lg hover:shadow-none transition-all duration-300 m-2\">\r\n            {\" \"}\r\n            <Link to=\"../productos\"> CREAR PRODUCTOS</Link>{\" \"}\r\n          </div>\r\n        </div>\r\n        <div className=\"md:w-1/3 p-2  text-center bg-green rounded-2xl \">\r\n          <h3>CONTROL DE FACTURAS</h3>\r\n          <div className=\"text-left\">\r\n            <p className=\" font-bold\"> INFORMACION PROFORMAS:</p>\r\n          </div>\r\n          <div className=\"uppercase border rounded-xl my-5 p-3 text-left\">\r\n            <p className=\"text-teal-500\"> </p>\r\n            <li>\r\n              Cantidad GENERADAS{\" \"}\r\n              <span className=\"font-bold text-red-600 text-2xl\">\r\n                {cantidadFacturasRegistrados}\r\n              </span>{\" \"}\r\n            </li>\r\n          </div>\r\n          <div className=\"bg-greenO text-2xl  font-semibold p-2 w-full  rounded-full hover:bg-greenO focus:outline-none focus:ring shadow-lg hover:shadow-none transition-all duration-300 m-2\">\r\n            {\" \"}\r\n            <Link to=\"../facturaform\"> CREAR FACTURA PROFORMA</Link>{\" \"}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default PanelControl;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}